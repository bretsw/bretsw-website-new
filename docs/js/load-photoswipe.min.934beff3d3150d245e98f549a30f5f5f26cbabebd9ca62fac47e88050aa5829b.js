window.loadphotoswipejs&&window.alert("You've loaded load-photoswipe.js twice. See https://github.com/liwenyip/hugo-easy-gallery/issues/6");var loadphotoswipejs=1;$(document).ready(function(){var a=[];$('figure').each(function(){var e,f,j,b,g,h,i,c,d,k,l;if($(this).attr('class')=='no-photoswipe')return!0;e=$(this),f=e.find('a'),j=e.find('img'),b=f.attr('href'),g=j.attr('alt'),h=j.attr('src'),f.data('size')?(i=f.data('size').split('x'),c={src:b,w:i[0],h:i[1],title:g,msrc:h},console.log("Using pre-defined dimensions for "+b)):(c={src:b,w:800,h:600,title:g,msrc:h},console.log("Using default dimensions for "+b),d=new Image,d.src=b,k=setInterval(function(){var a=d.naturalWidth,b=d.naturalHeight;a&&b&&(clearInterval(k),c.w=a,c.h=b,console.log("Got actual dimensions for "+d.src))},30)),l=a.length,a.push(c),e.on('click',function(d){var b,c;d.preventDefault(),b=$('.pswp')[0],c={index:l,bgOpacity:.8,showHideOpacity:!0},new PhotoSwipe(b,PhotoSwipeUI_Default,a,c).init()})})})